import{w}from"./with-props-BgyIDXvL.js";import{r as l,l as g}from"./chunk-D52XG6IA-Bgsi9VY-.js";import{m as h}from"./proxy-DZSbQmR_.js";import{m as M,b as O,u as v,i as b}from"./MainThreadAnimation-DOUlsoPE.js";import{u as V}from"./use-motion-value-2eO1Wuu3.js";import{a as L}from"./use-transform-BlT8xaW3.js";const j=l.createContext(null);function S(e,t,n,r){if(!r)return e;const s=e.findIndex(i=>i.value===t);if(s===-1)return e;const u=r>0?1:-1,d=e[s+u];if(!d)return e;const x=e[s],o=d.layout,c=M(o.min,o.max,.5);return u===1&&x.layout.max+n>c||u===-1&&x.layout.min+n<c?O(e,s,s+u):e}function E({children:e,as:t="ul",axis:n="y",onReorder:r,values:s,...u},d){const x=v(()=>h[t]),o=[],c=l.useRef(!1),i={axis:n,registerItem:(f,a)=>{const p=o.findIndex(y=>f===y.value);p!==-1?o[p].layout=a[n]:o.push({value:f,layout:a[n]}),o.sort(G)},updateOrder:(f,a,p)=>{if(c.current)return;const y=S(o,f,a,p);o!==y&&(c.current=!0,r(y.map(z).filter(m=>s.indexOf(m)!==-1)))}};return l.useEffect(()=>{c.current=!1}),g.jsx(x,{...u,ref:d,ignoreStrict:!0,children:g.jsx(j.Provider,{value:i,children:e})})}const N=l.forwardRef(E);function z(e){return e.value}function G(e,t){return e.layout.min-t.layout.min}function I(e,t=0){return b(e)?e:V(t)}function J({children:e,style:t={},value:n,as:r="li",onDrag:s,layout:u=!0,...d},x){const o=v(()=>h[r]),c=l.useContext(j),i={x:I(t.x),y:I(t.y)},f=L([i.x,i.y],([m,R])=>m||R?1:"unset"),{axis:a,registerItem:p,updateOrder:y}=c;return g.jsx(o,{drag:a,...d,dragSnapToOrigin:!0,style:{...t,x:i.x,y:i.y,zIndex:f},layout:u,onDrag:(m,R)=>{const{velocity:C}=R;C[a]&&y(n,i[a].get(),C[a]),s&&s(m,R)},onLayoutMeasure:m=>p(n,m),ref:x,ignoreStrict:!0,children:e})}const P=l.forwardRef(J),T=[{name:"Julio Ribeyro ðŸš¬",id:1},{name:"Mario Vargas ðŸŽ­",id:2},{name:"Julio Cortazar ðŸ‘½",id:3},{name:"Clarice Lispector ðŸ¤¯",id:4}],H=w(function(){const[t,n]=l.useState(T);return g.jsx("div",{className:"w-[400px] mx-auto mt-44",children:g.jsx(N,{axis:"y",values:t,onReorder:n,children:t.map(r=>g.jsx(P,{dragListener:!0,value:r,id:r.name,className:"relative select-none text-white text-2xl p-6 rounded-xl bg-indigo-500 m-3 ",style:{cursor:"grab"},children:r.name},r.id))})})});export{H as default};
