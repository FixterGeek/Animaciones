import{r as n}from"./chunk-D52XG6IA-Bgsi9VY-.js";import{i as c,f as g,A as y,I as S}from"./SVGVisualElement-CV7yoBz5.js";import{M as V,u as d}from"./proxy-BMLmG_ct.js";import{u as x}from"./use-motion-value-CcxSwUbq.js";function m(t){return typeof t=="number"?t:parseFloat(t)}function E(t,o={}){const{isStatic:p}=n.useContext(V),a=n.useRef(null),e=x(c(t)?m(t.get()):t),i=n.useRef(e.get()),s=n.useRef(()=>{}),l=()=>{const r=a.current;r&&r.time===0&&r.sample(y.delta),u(),a.current=S({keyframes:[e.get(),i.current],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...o,onUpdate:s.current})},u=()=>{a.current&&a.current.stop()};return n.useInsertionEffect(()=>e.attach((r,f)=>p?f(r):(i.current=r,s.current=f,g.update(l),e.get()),u),[JSON.stringify(o)]),d(()=>{if(c(t))return t.on("change",r=>e.set(m(r)))},[e]),e}export{E as u};
