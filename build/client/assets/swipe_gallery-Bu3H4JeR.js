import{w as V}from"./with-props-BgyIDXvL.js";import{r as p,l as o}from"./chunk-D52XG6IA-Bgsi9VY-.js";import{u as E}from"./use-motion-value-CcxSwUbq.js";import{u as T}from"./use-spring-DpYP68Aj.js";import{u as l}from"./use-transform-DD5lWbvM.js";import{s as v,u as X}from"./SVGVisualElement-CV7yoBz5.js";import{a as R,u as k,m as b}from"./proxy-BMLmG_ct.js";import"./use-combine-values-DQRGbZAT.js";function D(t){t.values.forEach(e=>e.stop())}function f(t,e){[...e].reverse().forEach(n=>{const a=t.getVariant(n);a&&v(t,a),t.variantChildren&&t.variantChildren.forEach(i=>{f(i,e)})})}function G(t,e){if(Array.isArray(e))return f(t,e);if(typeof e=="string")return f(t,[e]);v(t,e)}function J(){const t=new Set,e={subscribe(s){return t.add(s),()=>void t.delete(s)},start(s,n){const a=[];return t.forEach(i=>{a.push(R(i,s,{transitionOverride:n}))}),Promise.all(a)},set(s){return t.forEach(n=>{G(n,s)})},stop(){t.forEach(s=>{D(s)})},mount(){return()=>{e.stop()}}};return e}function L(){const t=X(J);return k(t.mount,[]),t}const O=({children:t})=>{const e=p.Children.toArray(t),[s,n]=p.useState(1),[a,i]=p.useState(0),u=[-300,0,300],c=E(0),w=T(c),y=l(c,[-300,300],[-45,45],{clamp:!1}),j=l(c,u,[.6,1,.6]),m=L(),d=async r=>{await m.start({x:300*r,opacity:0,scale:0})},g=()=>{m.set({x:0,opacity:1,scale:1}),S()},N=async r=>{const x=r.offsetX;x<-150?(await d(-1),g()):x>200&&(await d(1),g())},C=l(w,u,[0,90,0]),A=l(c,u,[1,.6,1]),I=l(c,u,["blur(0px)","blur(4px)","blur(0px)"]),h=r=>(r+1)%e.length,S=()=>{n(r=>h(r)),i(r=>h(r))};return o.jsxs("article",{className:"relative h-[320px] w-[320px]",children:[o.jsxs(b.div,{className:"absolute object-cover inset-0 rounded-3xl overflow-hidden bg-black",style:{y:C,scale:A,filter:I},children:[" ",e[s]]}),o.jsx(b.div,{onDragEnd:N,animate:m,drag:"x",dragConstraints:{left:0,right:0},dragSnapToOrigin:!0,style:{x:c,rotate:y,scale:j},whileTap:{cursor:"grabbing"},className:"absolute rounded-3xl overflow-hidden object-cover inset-0 bg-black hover:cursor-grab select-none",children:e[a]})]})},B=V(function(){return o.jsx("main",{className:"bg-gray-200 h-screen flex justify-center items-center overflow-hidden",children:o.jsxs(O,{children:[o.jsx("img",{className:"min-h-full object-cover w-full pointer-events-none",src:"https://i.imgur.com/J3n6WO2.png",alt:"illustratio"}),o.jsx("img",{className:"min-h-full object-cover w-full pointer-events-none",src:"https://i.imgur.com/GAS5XVz.png",alt:"illustratioN"}),o.jsx("img",{className:"min-h-full object-cover w-full pointer-events-none",src:"https://i.imgur.com/FNJAQqX.png",alt:"illustration"})]})})});export{B as default};
